- name: Update dependency graph
  uses: advanced-security/maven-dependency-submission-action@latest

- name: scp ssh pipelines
  uses: cross-the-world/ssh-scp-ssh-pipelines@latest
  with:
    host: ${{secrets.HOST}}
    user: ${{secrets.USERNAME}}
    pass: ${{secrets.PASSWORD}}
    port: ${{secrets.PORT}}
    scp: |
      ./target/*.war => /tmp/
    last_ssh: |
      ls -lart /tmp

- name: Invoke Jenkins deployment job
  uses: appleboy/jenkins-action@master
  with:
    url: "http://3.84.184.20:8080"
    user: "admin"
    token: ${{ secrets.JENKINS_TOKEN}}
    job: "TomcatDeployment"